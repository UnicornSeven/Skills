--创建数据库
CREATE DATABASE SCHOOL
ON PRIMARY
(
NAME='SCHOOL',
FILENAME='F:\SCHOOL\SCHOOL.MDF',
SIZE=1MB,
MAXSIZE=20MB,
FILEGROWTH=1MB
)
LOG ON
(NAME='SCHOOL_LOG',
FILENAME='F:\SCHOOL\SCHOOL.LDF',
SIZE=1MB,
filegrowth=1%,
maxsize=100mb)


--新增数据库文件
alter database school
add file
(
NAME='SCHOOL01',
FILENAME='F:\SCHOOL\SCHOOL01.ndf',
SIZE=2MB,
MAXSIZE=30MB,
FILEGROWTH=2MB
)


--新增日志文件
alter database school
add log file
(
NAME='SCHOOL_log01',
FILENAME='F:\SCHOOL\SCHOOL_log01.Ldf',
SIZE=2MB,
MAXSIZE=30MB,
FILEGROWTH=1%
)


--添加文件组
alter database school
add filegroup filegroup02



--添加数据文件放入文件组
 alter database school
add file
(
name='school02',
filename='f:\school\school02.ndf',
size=10mb,
maxsize=unlimited,
filegrowth=10mb
)
to filegroup filegroup02



--修改默认文件组
alter database school
modify filegroup filegroup02 default


---修改数据库名称
ALTER DATABASE SCHOOL
MODIFY NAME=SCHOOL01



--修改数据库文件属性
ALTER DATABASE SCHOOL01
MODIFY FILE
(
NAME='SCHOOL01',
SIZE=5MB
)


--删除数据库
DROP DATABASE SCHOOL01

----创建数据表
USE SCHOOL
GO

CREATE TABLE STUDENT
(
ID BIGINT IDENTITY(1,1) NOT NULL,
NAME VARCHAR(10) NOT NULL,
SEX CHAR(2) NOT NULL,
AGE INT NOT NULL,
ADDRESS VARCHAR(20) NOT NULL
)
GO


-----修改表列属性
USE SCHOOL
GO

ALTER TABLE STUDENT
ALTER COLUMN NAME CHAR(20)
GO

---添加列
USE SCHOOL
GO
ALTER TABLE STUDENT
ADD  PHONE VARCHAR(20) NULL


----删除列
ALTER TABLE STUDENT
DROP COLUMN PHONE


----修改表名
EXEC sp_rename 'STUDENT','STUDENT01'



---删除表
DROP TABLE STUDENT01

--查询数据

SELECT *
FROM STUDENT

SELECT NAME
FROM STUDENT


--插入数据
INSERT INTO STUDENT(NAME,SEX,AGE) VALUES
('JACK','男','10'),
('LILY','女','13')

SELECT *
FROM STUDENT


--修改数据
UPDATE STUDENT
SET AGE='14'
WHERE ID='2'


----修改数据
DELETE FROM STUDENT
WHERE ID='2'

DELETE FROM STUDENT

----向表中插入的数据
insert into student
values
('李明','男','10'),
('赵黄','男','13'),
('王海','男','15'),
('孙美','女','11')

----查询表中所有数据
SELECT * FROM STUDENT


----查询表中指定的列的数据
SELECT NAME,SEX FROM STUDENT


----使用as给字段或表指定别名
SELECT NAME  姓名,SEX AS 性别 from STUDENT AS 学生表


-----使用where限制返回的数据
select * from student where name='李明'

select * from student where age>'12'

-----为了演示对表做以下调整


--先向表中添加一列
alter table student
add address varchar(10)



--对该列赋值
update student
set address='北京'
WHERE ID='3'

update student
set address='武汉'
WHERE ID='4'

update student
set address='武汉'
WHERE ID='5'

update student
set address='重庆'
WHERE ID='7'

----首先创建另外一张学生表用于测试merge...into使用

IF OBJECT_ID('STUDENT02','U') IS NOT NULL
DROP TABLE STUDENT02

SELECT * INTO STUDENT02 FROM STUDENT WHERE 1=2



----向新的学生表插入两条学生数据

INSERT INTO STUDENT VALUES
('孙美','女','11',''),
('张丽丽','女','13','重庆')
